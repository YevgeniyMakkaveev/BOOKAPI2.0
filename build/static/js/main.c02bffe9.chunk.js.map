{"version":3,"sources":["service/actions.js","component/Panel/Panel.js","component/Panel/index.js","service/reduser.js","service/getApi.js","component/img/book-template.png","component/Results/Card/Card.js","component/Results/Card/index.js","component/spinner/index.js","component/spinner/spinner.js","component/Results/Result.js","component/Results/index.js","component/Modal/Modal.js","component/Modal/index.js","component/Error/index.js","component/Error/Error.js","component/ErrorBound/index.js","component/ErrorBound/ErrorBoundry.js","component/App/App.js","index.js"],"names":["bookLoad","bookId","type","payload","bookClear","getTearm","tearm","field","priority","clearTearm","getId","id","selfId","clearId","Panel","props","onFieldChange","e","setState","target","value","onPriorityChange","onInput","preventDefault","onSearchStart","state","toLowerCase","this","className","onSubmit","placeholder","onChange","onClick","Component","connect","dispatch","bindActionCreators","actions","initState","stanImg","reducer","combineReducers","reducerSearch","action","modalReducer","GetApi","index","a","fetch","res","ok","Error","status","json","link","CardCustom","toModal","data","img","deafaultImg","selfLink","title","publisher","publishedDate","description","smallText","authors","toString","categories","thumbnail","checkImg","src","alt","checkData","CustomSpinner","BookCard","bookList","totalItems","isLoading","needUpdate","getApi","updateBook","prevProp","getNormalBooks","then","newData","concat","items","onGetMore","newIndex","getInit","idInner","map","item","volumeInfo","imageLinks","renderCard","Result","ModalWind","bookData","isOpen","updateIndo","bookLink","getSingleBook","checkInfo","getImg","medium","small","openModal","closeModal","bigImg","allAuthors","show","onHide","dialogClassName","Header","Title","Row","md","Col","Body","ErrorMsg","ErrorBoundry","error","children","store","createStore","App","ErrorBound","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c02bffe9.chunk.js","sourcesContent":["const bookLoad =(bookId)=>{\r\n return {\r\n  type: 'BOOK_LOAD',\r\n  payload: bookId\r\n }\r\n}\r\nconst bookClear=()=>{\r\n return{\r\n  type: 'BOOK_CLEAR'\r\n }\r\n}\r\n\r\nconst getTearm = (tearm, field, priority) => {\r\n return{\r\n  type: 'GET_TEARM',\r\n  tearm: tearm,\r\n  field: field,\r\n  priority: priority,\r\n  \r\n }\r\n}\r\n\r\nconst clearTearm=()=>{\r\n return{\r\n  type: 'CLEAR_TEARM'\r\n }\r\n}\r\n\r\nconst getId=(id)=>{\r\n return{\r\n  type:'GET_ID',\r\n  selfId: id\r\n }\r\n}\r\n\r\nconst clearId=()=>{\r\n return{\r\n  type: 'CLEAR_ID'\r\n }\r\n}\r\n\r\nexport {\r\n bookLoad, bookClear, getTearm, clearTearm, getId, clearId\r\n}","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport * as actions from '../../service/actions'\r\nimport { bindActionCreators} from 'redux';\r\nimport './Panel.css'\r\n\r\n class Panel extends Component {\r\n  constructor(props){\r\n   super(props)\r\n   this.state={\r\n  tearm: '',\r\n  field: \"all\",\r\n  priority: \"relevance\"\r\n   }\r\n  }\r\n\r\n\r\n\r\nonFieldChange=(e)=>{\r\n this.setState({\r\n  field: e.target.value\r\n })}\r\n onPriorityChange=(e)=>{\r\n  this.setState({\r\n   priority: e.target.value\r\n  })\r\n }\r\n\r\nonInput=(e)=>{\r\n    e.preventDefault();\r\n    const tearm = e.target.value;\r\n    this.setState({tearm});\r\n}\r\n\r\nonSearchStart=(e)=>{\r\n e.preventDefault()\r\n  this.props.clearTearm()\r\n const {tearm, field, priority}=this.state\r\n this.props.getTearm(tearm.toLowerCase(),field,priority)\r\n this.setState({\r\n    tearm: ''\r\n })\r\n }\r\n\r\n render(){\r\n  const { tearm } = this.state;\r\nreturn (\r\n  <div className=\"component-body\">\r\n    <div className=\"container\">\r\n      <div className=\"row justify-content-center align-items-center\">\r\n        <h1 className=\"title text-center\" > КНИЖКА API-ШКА 2.0</h1>\r\n        <form className=\"searchPannel\" onSubmit={this.onSearchStart}>\r\n          <input className=\"pannel-colour form-control-sm ml-3 w-75\" placeholder=\"Начните поиск\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\" onChange={this.onInput} value={tearm} />\r\n          <button className=\"btn btn-warning\" type=\"button\" id=\"button-addon2\" onClick={this.onSearchStart}>ПОИСК </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    <div className=\"input-group\">\r\n      <div className=\"container\">\r\n        <div className=\"row justify-content-center align-items-center\">\r\n          <select className=\"form-select pannel-colour\" onChange={this.onFieldChange}>\r\n            <option value=\"all\">все </option>\r\n            <option value=\"art\">искусство</option>\r\n            <option value=\"biography\">биографии</option>\r\n            <option value=\"computers\">компьютеры</option>\r\n            <option value=\"history\">история</option>\r\n            <option value=\"medical\">медицина</option>\r\n            <option value=\"poetry\">поэзия</option>\r\n          </select>\r\n          <select className=\"form-select pannel-colour\" onChange={this.onPriorityChange}>\r\n            <option value=\"relevance\">релевантные </option>\r\n            <option value=\"newest\">новые</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n}\r\n}\r\nconst mapDispatchToProps =(dispatch) =>{\r\n  const {clearTearm, getTearm} = bindActionCreators(actions, dispatch)\r\n  return{\r\n    clearTearm,\r\n    getTearm: (tearm, field, priority) => {\r\n      \r\n       getTearm(tearm, field, priority)\r\n       }\r\n  }\r\n  }\r\nexport default connect(null, mapDispatchToProps)(Panel)\r\n","import Panel from \"./Panel\";\r\nexport default Panel","import { combineReducers } from 'redux'\r\nconst initState = {\r\ntearm: null,\r\nfield: \"all\",\r\npriority: \"relevance\",\r\n}\r\n\r\nconst reducerSearch =(state=initState, action)=>{\r\nswitch(action.type){\r\n case 'BOOK_LOAD':\r\n  return{getId: action.payload}\r\n  case 'GET_TEARM':\r\n   return{\r\n    tearm: action.tearm,\r\n    priority: action.priority,\r\n    field: action.field,\r\n   }\r\n   case 'CLEAR_TEARM':\r\n    return{\r\n    tearm: null,\r\n    field: \"all\",\r\n    priority: \"relevance\",\r\n   \r\n    } \r\n default: return state;\r\n }}\r\n\r\nconst stanImg={\r\n  selfId: null\r\n}\r\n const modalReducer = (state = stanImg, action)=> {\r\n   switch (action.type){\r\n    case 'GET_ID':\r\n    return{\r\n      selfId: action.selfId\r\n    }\r\n    case 'CLEAR_ID':\r\n      return{\r\n        selfId: null\r\n      }\r\n    default: return state\r\n   }\r\n }\r\n\r\n const reducer = combineReducers({\r\n   reducerSearch,\r\n   modalReducer\r\n })\r\n\r\nexport default reducer","export default class GetApi{\r\n\r\n async getNormalBooks(tearm, field, priority, index) {\r\n  const res = await fetch(`https://www.googleapis.com/books/v1/volumes?q=${tearm}&startIndex=${index}&maxResults=30&orderBy=${priority}&subject=${field}:keyes&key=AIzaSyAse8WG5nA-_-AdTK_4wpa4CUF5fmqc8zE`)\r\n  if (!res.ok) {\r\n  throw new Error(`Could not fetch data, recieved ${res.status}`)\r\n }\r\n return await res.json()}\r\n\r\n async getSingleBook(link){\r\n  const res = await fetch(link)\r\n  if (!res.ok) {\r\n   throw new Error(`Could not fetch data, recieved ${res.status}`)\r\n  }\r\n  return await res.json()\r\n }\r\n}","export default __webpack_public_path__ + \"static/media/book-template.aeb8aa3d.png\";","import React, { Component } from 'react'\r\nimport deafaultImg from '../../img/book-template.png'\r\nimport {connect} from 'react-redux'\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../../service/actions';\r\nimport './Card.css'\r\n\r\nclass CardCustom extends Component{\r\n\r\ntoModal = (id) => {\r\n   this.props.getId(id)\r\n}\r\n\r\ncheckData(data){\r\n   if(!data){return ''}else return data}\r\n\r\ncheckImg(img){\r\n   if(!img && img===\"Не найденно\"){return deafaultImg} else return img\r\n}\r\n\r\n\r\n\r\nrender(){\r\nconst selfLink = this.props.selfLink\r\nconst {title, publisher, publishedDate, description}=this.props\r\nconst smallText = description ? description: ''\r\nconst authors = this.props.authors ? this.props.authors.toString() : ''\r\nconst categories = this.props.categories? this.props.categories[0]:''\r\nconst thumbnail = this.checkImg(this.props.thumbnail)\r\n\r\n\r\nreturn(\r\n<div className=\"card mb-3 single-card\" onClick={()=>{this.toModal(selfLink)}}>\r\n  <div className=\"row g-0\">\r\n    <div className=\"col-md-4\">\r\n      <img src={thumbnail} className=\"img-fluid rounded-start\" alt=\"...\"/>\r\n    </div>\r\n    <div className=\"col-md-8\">\r\n      <div className=\"card-body\">\r\n         <p className=\"card-text\"><small className=\"text-muted\">{categories}</small></p>\r\n        <h5 className=\"card-title\">{this.checkData(title)}</h5>\r\n        <h5 className=\"card-title\">{this.checkData(authors)}</h5>\r\n      </div>\r\n        <div className=\"row g-0\">\r\n         <p className=\"card-text\"><small className=\"text-muted\">Издатель: {publisher},{publishedDate}</small></p>\r\n            <div className=\"overview\">\r\n            {smallText}\r\n            </div>\r\n         </div>\r\n      </div>\r\n   </div>\r\n</div>\r\n\r\n)}}\r\n\r\n\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n   const {getId} = bindActionCreators(actions, dispatch)\r\n   return { getId: (id) => {getId(id)\r\n      }\r\n   }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(CardCustom)","import CardCustom from './Card'\r\nexport default CardCustom","import CustomSpinner from \"./spinner\";\r\nexport default CustomSpinner","import React from 'react'\r\nimport './spinner.css'\r\nconst CustomSpinner = () =>{\r\n return(\r\n<div className=\"loadingio-spinner-cube-c2syuy8vtzq\"><div className=\"ldio-7zwvhu4xshs\">\r\n<div></div><div></div><div></div><div></div>\r\n</div></div>\r\n )\r\n}\r\nexport default CustomSpinner\r\n\r\n","import React,{Component} from 'react'\r\nimport GetApi from '../../service/getApi'\r\nimport {connect} from 'react-redux'\r\nimport CardCustom from './Card';\r\nimport CustomSpinner from '../spinner';\r\nimport './Result.css'\r\n\r\nclass BookCard extends Component{\r\n   \r\n    state = {\r\n     bookList: [],\r\n     index: 0,\r\n     totalItems: null,\r\n     isLoading: false,\r\n     needUpdate: false\r\n    }\r\n    \r\ngetApi=new GetApi()\r\n\r\n\r\n\r\n  componentDidUpdate(prevProp) {\r\n    if (this.props.tearm !== prevProp.tearm) {\r\n      this.getInit(prevProp)\r\n    } else if (this.state.needUpdate) {\r\n      this.updateBook(prevProp)\r\n    }\r\n  }\r\n\r\n  updateBook = (prevProp) => {\r\n    const { tearm, field, priority } = this.props\r\n    const { index, bookList } = this.state\r\n    this.getApi.getNormalBooks(tearm, field, priority, index).then((data) => {\r\n      let newData\r\n      if (prevProp.tearm === this.props.tearm) { newData = bookList.concat(data.items) } else { newData = data.items }\r\n      this.setState({\r\n        bookList: newData,\r\n        isLoading: false,\r\n        totalItems: data.totalItems,\r\n        needUpdate: false\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n  onGetMore = () => {\r\n    const oldIndex = this.state.index\r\n    const newIndex = +oldIndex + 30\r\n    if (newIndex<this.state.totalItems){\r\n    this.setState({\r\n      index: newIndex,\r\n      isLoading: true,\r\n      needUpdate: true\r\n    })\r\n    }}\r\n\r\ngetInit=(prevProp)=>{\r\n  this.setState({\r\n    index: 0,\r\n    isLoading: true\r\n  })\r\nthis.updateBook(prevProp)\r\n}\r\n\r\n  renderCard(data) {\r\n    let idInner = this.state.index\r\n    if (!data) { return null } else {\r\n      return (data.map((item) => {\r\n        idInner++\r\n        const selfLink = item.selfLink\r\n        const { title, publisher, publishedDate, description, authors, categories } = item.volumeInfo\r\n        const { thumbnail } = item.volumeInfo.imageLinks ? item.volumeInfo.imageLinks : \"Не найденно\"\r\n        return <CardCustom key={idInner} title={title} publisher={publisher} publishedDate={publishedDate} description={description} thumbnail={thumbnail} authors={authors} categories={categories} selfLink={selfLink} />\r\n      }))\r\n    }\r\n  }\r\n\r\n render(){\r\n  const {bookList, isLoading,totalItems}=this.state\r\n\r\n  if (!this.props.tearm){return null} \r\n  else if (isLoading) {\r\n    \r\n    return <div className=\"spin-load\"><CustomSpinner/></div>\r\n  }\r\n \r\n  const data = this.renderCard(bookList)\r\n  \r\n  \r\n  return(\r\n    <div className=\"component-nest\">\r\n      <p className=\"mb-3\">Всего найдено {totalItems} </p>\r\n        <div className = \"row row-cols-1 row-cols-md-4 g-4 mt-2\" >\r\n          {data}\r\n        </div>\r\n        <div className=\"d-grid gap-2\">\r\n          <button className=\"btn btn-danger\"  onClick={this.onGetMore}> Загрузить больше.</button>\r\n        </div>\r\n    </div>\r\n  )  \r\n }\r\n}\r\n\r\nconst mapStateToProps = (res) => {\r\n return {\r\n  tearm: res.reducerSearch.tearm,\r\n  field: res.reducerSearch.field,\r\n  priority: res.reducerSearch.priority,\r\n }}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps)(BookCard)","import Result from \"./Result\";\r\nexport default Result","import React, {Component} from 'react'\r\nimport deafaultImg from '../img/book-template.png'\r\nimport './Modal.css'\r\nimport * as actions from '../../service/actions'\r\nimport {connect} from 'react-redux'\r\nimport GetApi from '../../service/getApi'\r\nimport { Modal,  Row, Col } from \"react-bootstrap\"\r\nimport { bindActionCreators} from 'redux';\r\nimport CustomSpinner from '../spinner'\r\n\r\n\r\nclass ModalWind extends Component{\r\nstate={\r\nbookData: [],\r\nisOpen: true,\r\nisLoading: false\r\n}\r\n\r\n getApi=new GetApi()\r\n\r\n componentDidUpdate(prevProp){\r\n  if (this.props.bookLink !== prevProp.bookLink) {\r\n    this.setState({\r\n      isLoading: true\r\n    })\r\n   this.updateIndo()\r\n  }}\r\n\r\nupdateIndo=()=>{\r\nconst id = this.props.bookLink\r\nif(id){\r\nthis.getApi.getSingleBook(id).then((data) => {\r\n this.setState({\r\n  bookData: data.volumeInfo,\r\n  isOpen: true,\r\n  isLoading: false\r\n })\r\n})}\r\n\r\n}\r\n\r\ncheckInfo=(data)=>{\r\n if(!data){return \"Не указаны\"}else return data\r\n}\r\n\r\ngetImg=(img)=>{\r\n if (img.medium){return img.thumbnail}else if(img.small){return img.small} else{return deafaultImg}\r\n}\r\n\r\n  openModal = () => this.setState({ isOpen: true });\r\n\r\n  closeModal = () => {this.setState({\r\n    isOpen: false,\r\n    bookData: []\r\n  })\r\nthis.props.clearId()}\r\n\r\n\r\nrender(){\r\n\r\n if (!this.props.bookLink){return null}\r\n else if(this.state.isLoading){return <div className=\"spin-load\"> <CustomSpinner/></div> }\r\n const {title, description, categories, authors,publisher,publishedDate} = this.state.bookData\r\n const bigImg = this.state.bookData.imageLinks ? this.getImg(this.state.bookData.imageLinks):deafaultImg\r\n const allAuthors=authors? authors.toString(): \"Авторы не указаны\"\r\n\r\n\r\n \r\n return(\r\n  <Modal show={this.state.isOpen} onHide={this.closeModal} onClick={this.closeModal} dialogClassName=\"my-modal\">\r\n    <Modal.Header>  \r\n      <Modal.Title >Категории: {this.checkInfo(categories)}</Modal.Title> \r\n    </Modal.Header>\r\n  <Row md={4} >\r\n    <Col md>\r\n      <img className=\"modal-img\" src={bigImg} alt=\"тест\"/>\r\n    </Col>\r\n    <Col>\r\n      <h2 className=\"bigger-stuff text-justify\"> {title} </h2>\r\n    </Col>\r\n    <Col>\r\n      <ul className=\"list-text text-justify\">\r\n        <li>\r\n         Авторы: {allAuthors} \r\n        </li>\r\n        <li>\r\n         Издатель: {this.checkInfo(publisher)}\r\n        </li>\r\n        <li>\r\n         Год издания: {this.checkInfo(publishedDate)}\r\n        </li>\r\n      </ul>\r\n    </Col>\r\n  </Row>\r\n    <Modal.Body>\r\n      <p className=\"desc-text\">{description}</p></Modal.Body>\r\n</Modal>\r\n\r\n )}}\r\n\r\n\r\nconst mapStateToProps = (res) =>{\r\n return{\r\n  bookLink: res.modalReducer.selfId\r\n }\r\n }\r\nconst mapDispatchToProps =(dispatch) =>{\r\n  const {clearId} = bindActionCreators(actions, dispatch)\r\n  return{clearId,}}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalWind)","import ModalWind from \"./Modal\";\r\nexport default ModalWind","import ErrorMsg from \"./Error\";\r\nexport default ErrorMsg","import React from 'react';\r\n\r\nimport './Error.css'\r\n\r\nconst ErrorMsg = () => {\r\n return (\r\n  <div className=\"error-msg\">\r\n   <h2 className=\"red\"> Произошла ошибка</h2>\r\n   <h2> Обновите приложение</h2>\r\n  </div>\r\n )\r\n}\r\nexport default ErrorMsg","import ErrorBoundry from \"./ErrorBoundry\";\r\nexport default ErrorBoundry","import React, {Component} from 'react'\r\nimport ErrorMsg from '../Error'\r\n\r\nexport default class ErrorBoundry extends Component{\r\nstate ={\r\n error: false\r\n}\r\n\r\ncomponentDidCatch(){\r\n this.setState({error: true})\r\n}\r\n\r\nrender(){\r\n if(this.state.error){\r\n return <ErrorMsg/>} return this.props.children\r\n}\r\n\r\n\r\n}","import React from 'react';\nimport './App.css';\nimport Panel from '../Panel'\nimport reducer from '../../service/reduser';\nimport { createStore} from 'redux';\nimport { Provider } from 'react-redux';\nimport BookCard from '../Results'\nimport ModalWind from '../Modal';\nimport ErrorBoundry from '../ErrorBound'\n\nconst store = createStore(reducer)\n\n\n\nconst App=()=> {\n  return (\n    <div className=\"App\"> \n   <ErrorBoundry>\n      <Provider store={store}>\n       <Panel/>\n       <BookCard/>\n       <ModalWind/>\n      </Provider>\n  </ErrorBoundry>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './component/App/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n"],"sourceRoot":""}